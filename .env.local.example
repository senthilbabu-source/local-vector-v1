# ============================================================
# LocalVector.ai — Environment Variables
# Copy this file to .env.local and fill in real values.
# NEVER commit .env.local to version control.
# ============================================================

# === Supabase ===
NEXT_PUBLIC_SUPABASE_URL=https://xxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...          # Server-only — never expose to client

# === OpenAI ===
OPENAI_API_KEY=sk-...

# === Perplexity ===
PERPLEXITY_API_KEY=pplx-...

# === Google Places ===
GOOGLE_PLACES_API_KEY=AIza...

# === Google OAuth (Google Business Profile + user sign-in) ===
# From Google Cloud Console → APIs & Services → Credentials
# Authorized redirect URIs must include: {NEXT_PUBLIC_APP_URL}/api/auth/google/callback
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret

# === AI Providers ===
# Anthropic API key for Claude-powered features (Truth Audit, content audit)
# From: https://console.anthropic.com/account/keys
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# Google AI API key for Gemini/Search Grounding features (SOV multi-engine)
# From: https://makersuite.google.com/app/apikey
GOOGLE_GENERATIVE_AI_API_KEY=AIzaSy-your-key-here

# === Stripe ===
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_PRICE_ID_STARTER=price_...
STRIPE_PRICE_ID_GROWTH=price_...
STRIPE_PRICE_ID_AGENCY_SEAT=price_...

# === Resend ===
RESEND_API_KEY=re_...

# === Upstash Redis / Vercel KV (Rate Limiting) ===
# Primary keys (preferred by lib/redis.ts):
UPSTASH_REDIS_REST_URL=https://...
UPSTASH_REDIS_REST_TOKEN=AX...
# Fallback keys (Vercel KV-compatible, also accepted):
KV_REST_API_URL=https://...
KV_REST_API_TOKEN=...

# === App Config ===
NEXT_PUBLIC_APP_URL=https://app.localvector.ai
NEXT_PUBLIC_MENU_URL=https://menu.localvector.ai
NEXT_PUBLIC_MARKETING_URL=https://localvector.ai

# === AEO Configuration ===
NEXT_PUBLIC_AEO_REPORT_URL=https://app.localvector.ai/report

# === MCP Server Auth ===
MCP_API_KEY=                         # Bearer token for MCP endpoint. Fails closed when absent.

# === Inngest (Job Queue) ===
INNGEST_EVENT_KEY=                    # Production: from Inngest Cloud dashboard
INNGEST_SIGNING_KEY=                  # Production: from Inngest Cloud dashboard

# === Sentry (Sprint 26A) ===
NEXT_PUBLIC_SENTRY_DSN=https://...@o....ingest.sentry.io/...
SENTRY_AUTH_TOKEN=sntrys_...
SENTRY_ORG=localvector
SENTRY_PROJECT=localvector-nextjs

# ═══════════════════════════════════════════════════════════════
# CRON SECURITY
# ═══════════════════════════════════════════════════════════════

# Secret used to authenticate Vercel cron invocations.
# Vercel sends: Authorization: Bearer <CRON_SECRET>
# Generate a strong random value: openssl rand -hex 32
# Must also be set in Vercel dashboard → Project Settings → Environment Variables
CRON_SECRET=your-cron-secret-here

# ═══════════════════════════════════════════════════════════════
# CRON KILL SWITCHES
# Set to "true" to disable a specific cron without unregistering it.
# Useful for pausing expensive AI operations during budget reviews.
# Default: unset or "false" (cron runs normally)
# ═══════════════════════════════════════════════════════════════

STOP_AUDIT_CRON=false
STOP_SOV_CRON=false
STOP_CITATION_CRON=false
STOP_DIGEST_CRON=false
STOP_PLACES_REFRESH_CRON=false
STOP_CONTENT_AUDIT_CRON=false
STOP_TOKEN_REFRESH_CRON=false
STOP_CORRECTION_FOLLOWUP_CRON=false
STOP_BENCHMARK_CRON=false
STOP_GOOGLE_REFRESH=false   # Set to 'true' to instantly halt Google API spending

# ═══════════════════════════════════════════════════════════════
# ADMIN DASHBOARD
# ═══════════════════════════════════════════════════════════════

# Comma-separated list of emails allowed to access /admin routes.
# Case-insensitive, whitespace-trimmed. Non-admins redirect to /dashboard.
ADMIN_EMAILS=admin@localvector.ai

# ═══════════════════════════════════════════════════════════════
# LISTINGS VERIFICATION (Sprint L)
# ═══════════════════════════════════════════════════════════════

# Yelp Fusion API key for verifying business listings on Yelp.
# From: https://www.yelp.com/developers/v3/manage_app
YELP_API_KEY=
